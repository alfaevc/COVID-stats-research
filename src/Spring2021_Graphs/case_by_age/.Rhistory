type='bar', name = "40-59 Years", visible="legendonly",
marker=list(color="black"))
fig <- fig %>%
add_trace(data=dt, x=~date, y=~`25_39/total(%)`,
type='bar', name = "25-39 Years", visible="legendonly",
marker=list(color="black"))
fig <- fig %>%
add_trace(data=dt, x=~date, y=~`60_90+/total(%)`,
type='bar', name = "60-90+ Year", visible="legendonly",
marker=list(color="#ebcf34"))
fig <- fig %>%
add_trace(data=dt, x=~date, y=~`15_24/total(%)`,
type='bar', name = "15-24 Years", visible="legendonly",
marker=list(color="#F2615D"))
fig <- fig %>%
add_trace(data=dt, x=~date, y=~`05_14/total(%)`,
type='bar', name = "5-14 Years", visible="legendonly",
marker=list(color="#942C81"))
fig <- fig %>%
add_trace(data=dt, x=~date, y=~`00_04/total(%)`,
type='bar', name = "0-4 Years", visible="legendonly",
marker=list(color="#2D1160"))
fig <- fig %>%
add_lines(data=dt, x=~date, y=~rolling_avg, name = "Total Cases",  yaxis = "y2",
line = list(color = 'black'))
fig <- fig %>%
add_lines(data=variant, x=~date, y=~proportion, name="B117 variant",
line=list(color='#a8a8a8'))
fig <- fig %>% layout(
title = "Total COVID-19 Daily Cases in the UK and % of Daily Cases by Age Groups May 2020-Feburary 2021",
yaxis2 = ay,
yaxis = list(title="% of Daily Cases by Age Groups",
range=c(0, 100)),
xaxis = list(title="Date",
type = 'date', tickformat = "%b %Y"),
legend = list(x=1.1,
title=list(text='<b> Click to Select Groups </b>'),
traceorder="grouped"),
barmode = 'overlay'
)
fig
#p <- plot_ly(data=dt, x=~date, y=~`00_90+`, type='scatter',mode='lines')
#p
ay <- list(
tickfont = list(color = "black"),
overlaying = "y",
side = "right",
title = "Total New Daily Cases"
)
fig <- plot_ly()
fig <- fig %>%
add_trace(data=dt, x=~date, y=~`40_59/total(%)`,
type='bar', name = "40-59 Years", visible="legendonly",
marker=list(color="black"))
fig <- fig %>%
add_trace(data=dt, x=~date, y=~`25_39/total(%)`,
type='bar', name = "25-39 Years", visible="legendonly",
marker=list(color="#ebcf34"))
fig <- fig %>%
add_trace(data=dt, x=~date, y=~`60_90+/total(%)`,
type='bar', name = "60-90+ Year", visible="legendonly",
marker=list(color="#facb55"))
fig <- fig %>%
add_trace(data=dt, x=~date, y=~`15_24/total(%)`,
type='bar', name = "15-24 Years", visible="legendonly",
marker=list(color="#F2615D"))
fig <- fig %>%
add_trace(data=dt, x=~date, y=~`05_14/total(%)`,
type='bar', name = "5-14 Years", visible="legendonly",
marker=list(color="#942C81"))
fig <- fig %>%
add_trace(data=dt, x=~date, y=~`00_04/total(%)`,
type='bar', name = "0-4 Years", visible="legendonly",
marker=list(color="#2D1160"))
fig <- fig %>%
add_lines(data=dt, x=~date, y=~rolling_avg, name = "Total Cases",  yaxis = "y2",
line = list(color = 'black'))
fig <- fig %>%
add_lines(data=variant, x=~date, y=~proportion, name="B117 variant",
line=list(color='#a8a8a8'))
fig <- fig %>% layout(
title = "Total COVID-19 Daily Cases in the UK and % of Daily Cases by Age Groups May 2020-Feburary 2021",
yaxis2 = ay,
yaxis = list(title="% of Daily Cases by Age Groups",
range=c(0, 100)),
xaxis = list(title="Date",
type = 'date', tickformat = "%b %Y"),
legend = list(x=1.1,
title=list(text='<b> Click to Select Groups </b>'),
traceorder="grouped"),
barmode = 'overlay'
)
fig
#p <- plot_ly(data=dt, x=~date, y=~`00_90+`, type='scatter',mode='lines')
#p
ay <- list(
tickfont = list(color = "black"),
overlaying = "y",
side = "right",
title = "Total New Daily Cases"
)
fig <- plot_ly()
fig <- fig %>%
add_trace(data=dt, x=~date, y=~`40_59/total(%)`,
type='bar', name = "40-59 Years", visible="legendonly",
marker=list(color="black"))
fig <- fig %>%
add_trace(data=dt, x=~date, y=~`25_39/total(%)`,
type='bar', name = "25-39 Years", visible="legendonly",
marker=list(color="#d9f089"))
fig <- fig %>%
add_trace(data=dt, x=~date, y=~`60_90+/total(%)`,
type='bar', name = "60-90+ Year", visible="legendonly",
marker=list(color="#facb55"))
fig <- fig %>%
add_trace(data=dt, x=~date, y=~`15_24/total(%)`,
type='bar', name = "15-24 Years", visible="legendonly",
marker=list(color="#F2615D"))
fig <- fig %>%
add_trace(data=dt, x=~date, y=~`05_14/total(%)`,
type='bar', name = "5-14 Years", visible="legendonly",
marker=list(color="#942C81"))
fig <- fig %>%
add_trace(data=dt, x=~date, y=~`00_04/total(%)`,
type='bar', name = "0-4 Years", visible="legendonly",
marker=list(color="#2D1160"))
fig <- fig %>%
add_lines(data=dt, x=~date, y=~rolling_avg, name = "Total Cases",  yaxis = "y2",
line = list(color = 'black'))
fig <- fig %>%
add_lines(data=variant, x=~date, y=~proportion, name="B117 variant",
line=list(color='#a8a8a8'))
fig <- fig %>% layout(
title = "Total COVID-19 Daily Cases in the UK and % of Daily Cases by Age Groups May 2020-Feburary 2021",
yaxis2 = ay,
yaxis = list(title="% of Daily Cases by Age Groups",
range=c(0, 100)),
xaxis = list(title="Date",
type = 'date', tickformat = "%b %Y"),
legend = list(x=1.1,
title=list(text='<b> Click to Select Groups </b>'),
traceorder="grouped"),
barmode = 'overlay'
)
fig
#p <- plot_ly(data=dt, x=~date, y=~`00_90+`, type='scatter',mode='lines')
#p
ay <- list(
tickfont = list(color = "black"),
overlaying = "y",
side = "right",
title = "Total New Daily Cases"
)
fig <- plot_ly()
fig <- fig %>%
add_trace(data=dt, x=~date, y=~`40_59/total(%)`,
type='bar', name = "40-59 Years", visible="legendonly",
marker=list(color="black"))
fig <- fig %>%
add_trace(data=dt, x=~date, y=~`25_39/total(%)`,
type='bar', name = "25-39 Years", visible="legendonly",
marker=list(color="#cae371"))
fig <- fig %>%
add_trace(data=dt, x=~date, y=~`60_90+/total(%)`,
type='bar', name = "60-90+ Year", visible="legendonly",
marker=list(color="#facb55"))
fig <- fig %>%
add_trace(data=dt, x=~date, y=~`15_24/total(%)`,
type='bar', name = "15-24 Years", visible="legendonly",
marker=list(color="#F2615D"))
fig <- fig %>%
add_trace(data=dt, x=~date, y=~`05_14/total(%)`,
type='bar', name = "5-14 Years", visible="legendonly",
marker=list(color="#942C81"))
fig <- fig %>%
add_trace(data=dt, x=~date, y=~`00_04/total(%)`,
type='bar', name = "0-4 Years", visible="legendonly",
marker=list(color="#2D1160"))
fig <- fig %>%
add_lines(data=dt, x=~date, y=~rolling_avg, name = "Total Cases",  yaxis = "y2",
line = list(color = 'black'))
fig <- fig %>%
add_lines(data=variant, x=~date, y=~proportion, name="B117 variant",
line=list(color='#a8a8a8'))
fig <- fig %>% layout(
title = "Total COVID-19 Daily Cases in the UK and % of Daily Cases by Age Groups May 2020-Feburary 2021",
yaxis2 = ay,
yaxis = list(title="% of Daily Cases by Age Groups",
range=c(0, 100)),
xaxis = list(title="Date",
type = 'date', tickformat = "%b %Y"),
legend = list(x=1.1,
title=list(text='<b> Click to Select Groups </b>'),
traceorder="grouped"),
barmode = 'overlay'
)
fig
#p <- plot_ly(data=dt, x=~date, y=~`00_90+`, type='scatter',mode='lines')
#p
ay <- list(
tickfont = list(color = "black"),
overlaying = "y",
side = "right",
title = "Total New Daily Cases"
)
fig <- plot_ly()
fig <- fig %>%
add_trace(data=dt, x=~date, y=~`40_59/total(%)`,
type='bar', name = "40-59 Years", visible="legendonly",
marker=list(color="black"))
fig <- fig %>%
add_trace(data=dt, x=~date, y=~`25_39/total(%)`,
type='bar', name = "25-39 Years", visible="legendonly",
marker=list(color="#abc451"))
fig <- fig %>%
add_trace(data=dt, x=~date, y=~`60_90+/total(%)`,
type='bar', name = "60-90+ Year", visible="legendonly",
marker=list(color="#facb55"))
fig <- fig %>%
add_trace(data=dt, x=~date, y=~`15_24/total(%)`,
type='bar', name = "15-24 Years", visible="legendonly",
marker=list(color="#F2615D"))
fig <- fig %>%
add_trace(data=dt, x=~date, y=~`05_14/total(%)`,
type='bar', name = "5-14 Years", visible="legendonly",
marker=list(color="#942C81"))
fig <- fig %>%
add_trace(data=dt, x=~date, y=~`00_04/total(%)`,
type='bar', name = "0-4 Years", visible="legendonly",
marker=list(color="#2D1160"))
fig <- fig %>%
add_lines(data=dt, x=~date, y=~rolling_avg, name = "Total Cases",  yaxis = "y2",
line = list(color = 'black'))
fig <- fig %>%
add_lines(data=variant, x=~date, y=~proportion, name="B117 variant",
line=list(color='#a8a8a8'))
fig <- fig %>% layout(
title = "Total COVID-19 Daily Cases in the UK and % of Daily Cases by Age Groups May 2020-Feburary 2021",
yaxis2 = ay,
yaxis = list(title="% of Daily Cases by Age Groups",
range=c(0, 100)),
xaxis = list(title="Date",
type = 'date', tickformat = "%b %Y"),
legend = list(x=1.1,
title=list(text='<b> Click to Select Groups </b>'),
traceorder="grouped"),
barmode = 'overlay'
)
fig
#p <- plot_ly(data=dt, x=~date, y=~`00_90+`, type='scatter',mode='lines')
#p
ay <- list(
tickfont = list(color = "black"),
overlaying = "y",
side = "right",
title = "Total New Daily Cases"
)
fig <- plot_ly()
fig <- fig %>%
add_trace(data=dt, x=~date, y=~`40_59/total(%)`,
type='bar', name = "40-59 Years", visible="legendonly",
marker=list(color="#51c4c0"))
fig <- fig %>%
add_trace(data=dt, x=~date, y=~`25_39/total(%)`,
type='bar', name = "25-39 Years", visible="legendonly",
marker=list(color="#abc451"))
fig <- fig %>%
add_trace(data=dt, x=~date, y=~`60_90+/total(%)`,
type='bar', name = "60-90+ Year", visible="legendonly",
marker=list(color="#facb55"))
fig <- fig %>%
add_trace(data=dt, x=~date, y=~`15_24/total(%)`,
type='bar', name = "15-24 Years", visible="legendonly",
marker=list(color="#F2615D"))
fig <- fig %>%
add_trace(data=dt, x=~date, y=~`05_14/total(%)`,
type='bar', name = "5-14 Years", visible="legendonly",
marker=list(color="#942C81"))
fig <- fig %>%
add_trace(data=dt, x=~date, y=~`00_04/total(%)`,
type='bar', name = "0-4 Years", visible="legendonly",
marker=list(color="#2D1160"))
fig <- fig %>%
add_lines(data=dt, x=~date, y=~rolling_avg, name = "Total Cases",  yaxis = "y2",
line = list(color = 'black'))
fig <- fig %>%
add_lines(data=variant, x=~date, y=~proportion, name="B117 variant",
line=list(color='#a8a8a8'))
fig <- fig %>% layout(
title = "Total COVID-19 Daily Cases in the UK and % of Daily Cases by Age Groups May 2020-Feburary 2021",
yaxis2 = ay,
yaxis = list(title="% of Daily Cases by Age Groups",
range=c(0, 100)),
xaxis = list(title="Date",
type = 'date', tickformat = "%b %Y"),
legend = list(x=1.1,
title=list(text='<b> Click to Select Groups </b>'),
traceorder="grouped"),
barmode = 'overlay'
)
fig
#p <- plot_ly(data=dt, x=~date, y=~`00_90+`, type='scatter',mode='lines')
#p
ay <- list(
tickfont = list(color = "black"),
overlaying = "y",
side = "right",
title = "Total New Daily Cases"
)
fig <- plot_ly()
fig <- fig %>%
add_trace(data=dt, x=~date, y=~`40_59/total(%)`,
type='bar', name = "40-59 Years", visible="legendonly",
marker=list(color="#35b5b1"))
fig <- fig %>%
add_trace(data=dt, x=~date, y=~`25_39/total(%)`,
type='bar', name = "25-39 Years", visible="legendonly",
marker=list(color="#abc451"))
fig <- fig %>%
add_trace(data=dt, x=~date, y=~`60_90+/total(%)`,
type='bar', name = "60-90+ Year", visible="legendonly",
marker=list(color="#facb55"))
fig <- fig %>%
add_trace(data=dt, x=~date, y=~`15_24/total(%)`,
type='bar', name = "15-24 Years", visible="legendonly",
marker=list(color="#F2615D"))
fig <- fig %>%
add_trace(data=dt, x=~date, y=~`05_14/total(%)`,
type='bar', name = "5-14 Years", visible="legendonly",
marker=list(color="#942C81"))
fig <- fig %>%
add_trace(data=dt, x=~date, y=~`00_04/total(%)`,
type='bar', name = "0-4 Years", visible="legendonly",
marker=list(color="#2D1160"))
fig <- fig %>%
add_lines(data=dt, x=~date, y=~rolling_avg, name = "Total Cases",  yaxis = "y2",
line = list(color = 'black'))
fig <- fig %>%
add_lines(data=variant, x=~date, y=~proportion, name="B117 variant",
line=list(color='#a8a8a8'))
fig <- fig %>% layout(
title = "Total COVID-19 Daily Cases in the UK and % of Daily Cases by Age Groups May 2020-Feburary 2021",
yaxis2 = ay,
yaxis = list(title="% of Daily Cases by Age Groups",
range=c(0, 100)),
xaxis = list(title="Date",
type = 'date', tickformat = "%b %Y"),
legend = list(x=1.1,
title=list(text='<b> Click to Select Groups </b>'),
traceorder="grouped"),
barmode = 'overlay'
)
fig
#p <- plot_ly(data=dt, x=~date, y=~`00_90+`, type='scatter',mode='lines')
#p
ay <- list(
tickfont = list(color = "black"),
overlaying = "y",
side = "right",
title = "Total New Daily Cases"
)
fig <- plot_ly()
fig <- fig %>%
add_trace(data=dt, x=~date, y=~`40_59/total(%)`,
type='bar', name = "40-59 Years", visible="legendonly",
marker=list(color="#35b5b1"))
fig <- fig %>%
add_trace(data=dt, x=~date, y=~`25_39/total(%)`,
type='bar', name = "25-39 Years", visible="legendonly",
marker=list(color="#abc451"))
fig <- fig %>%
add_trace(data=dt, x=~date, y=~`60_90+/total(%)`,
type='bar', name = "60-90+ Year", visible="legendonly",
marker=list(color="#facb55"))
fig <- fig %>%
add_trace(data=dt, x=~date, y=~`15_24/total(%)`,
type='bar', name = "15-24 Years", visible="legendonly",
marker=list(color="#e0af9d"))
fig <- fig %>%
add_trace(data=dt, x=~date, y=~`05_14/total(%)`,
type='bar', name = "5-14 Years", visible="legendonly",
marker=list(color="#942C81"))
fig <- fig %>%
add_trace(data=dt, x=~date, y=~`00_04/total(%)`,
type='bar', name = "0-4 Years", visible="legendonly",
marker=list(color="#2D1160"))
fig <- fig %>%
add_lines(data=dt, x=~date, y=~rolling_avg, name = "Total Cases",  yaxis = "y2",
line = list(color = 'black'))
fig <- fig %>%
add_lines(data=variant, x=~date, y=~proportion, name="B117 variant",
line=list(color='#a8a8a8'))
fig <- fig %>% layout(
title = "Total COVID-19 Daily Cases in the UK and % of Daily Cases by Age Groups May 2020-Feburary 2021",
yaxis2 = ay,
yaxis = list(title="% of Daily Cases by Age Groups",
range=c(0, 100)),
xaxis = list(title="Date",
type = 'date', tickformat = "%b %Y"),
legend = list(x=1.1,
title=list(text='<b> Click to Select Groups </b>'),
traceorder="grouped"),
barmode = 'overlay'
)
fig
#p <- plot_ly(data=dt, x=~date, y=~`00_90+`, type='scatter',mode='lines')
#p
ay <- list(
tickfont = list(color = "black"),
overlaying = "y",
side = "right",
title = "Total New Daily Cases"
)
fig <- plot_ly()
fig <- fig %>%
add_trace(data=dt, x=~date, y=~`40_59/total(%)`,
type='bar', name = "40-59 Years", visible="legendonly",
marker=list(color="#35b5b1"))
fig <- fig %>%
add_trace(data=dt, x=~date, y=~`25_39/total(%)`,
type='bar', name = "25-39 Years", visible="legendonly",
marker=list(color="#abc451"))
fig <- fig %>%
add_trace(data=dt, x=~date, y=~`60_90+/total(%)`,
type='bar', name = "60-90+ Year", visible="legendonly",
marker=list(color="#facb55"))
fig <- fig %>%
add_trace(data=dt, x=~date, y=~`15_24/total(%)`,
type='bar', name = "15-24 Years", visible="legendonly",
marker=list(color="#d19179"))
fig <- fig %>%
add_trace(data=dt, x=~date, y=~`05_14/total(%)`,
type='bar', name = "5-14 Years", visible="legendonly",
marker=list(color="#942C81"))
fig <- fig %>%
add_trace(data=dt, x=~date, y=~`00_04/total(%)`,
type='bar', name = "0-4 Years", visible="legendonly",
marker=list(color="#2D1160"))
fig <- fig %>%
add_lines(data=dt, x=~date, y=~rolling_avg, name = "Total Cases",  yaxis = "y2",
line = list(color = 'black'))
fig <- fig %>%
add_lines(data=variant, x=~date, y=~proportion, name="B117 variant",
line=list(color='#a8a8a8'))
fig <- fig %>% layout(
title = "Total COVID-19 Daily Cases in the UK and % of Daily Cases by Age Groups May 2020-Feburary 2021",
yaxis2 = ay,
yaxis = list(title="% of Daily Cases by Age Groups",
range=c(0, 100)),
xaxis = list(title="Date",
type = 'date', tickformat = "%b %Y"),
legend = list(x=1.1,
title=list(text='<b> Click to Select Groups </b>'),
traceorder="grouped"),
barmode = 'overlay'
)
fig
#p <- plot_ly(data=dt, x=~date, y=~`00_90+`, type='scatter',mode='lines')
#p
ay <- list(
tickfont = list(color = "black"),
overlaying = "y",
side = "right",
title = "Total New Daily Cases"
)
fig <- plot_ly()
fig <- fig %>%
add_trace(data=dt, x=~date, y=~`40_59/total(%)`,
type='bar', name = "40-59 Years", visible="legendonly",
marker=list(color="#35b5b1"))
fig <- fig %>%
add_trace(data=dt, x=~date, y=~`25_39/total(%)`,
type='bar', name = "25-39 Years", visible="legendonly",
marker=list(color="#abc451"))
fig <- fig %>%
add_trace(data=dt, x=~date, y=~`60_90+/total(%)`,
type='bar', name = "60-90+ Year", visible="legendonly",
marker=list(color="#facb55"))
fig <- fig %>%
add_trace(data=dt, x=~date, y=~`15_24/total(%)`,
type='bar', name = "15-24 Years", visible="legendonly",
marker=list(color="#f2615d"))
fig <- fig %>%
add_trace(data=dt, x=~date, y=~`05_14/total(%)`,
type='bar', name = "5-14 Years", visible="legendonly",
marker=list(color="#942C81"))
fig <- fig %>%
add_trace(data=dt, x=~date, y=~`00_04/total(%)`,
type='bar', name = "0-4 Years", visible="legendonly",
marker=list(color="#2D1160"))
fig <- fig %>%
add_lines(data=dt, x=~date, y=~rolling_avg, name = "Total Cases",  yaxis = "y2",
line = list(color = 'black'))
fig <- fig %>%
add_lines(data=variant, x=~date, y=~proportion, name="B117 variant",
line=list(color='#a8a8a8'))
fig <- fig %>% layout(
title = "Total COVID-19 Daily Cases in the UK and % of Daily Cases by Age Groups May 2020-Feburary 2021",
yaxis2 = ay,
yaxis = list(title="% of Daily Cases by Age Groups",
range=c(0, 100)),
xaxis = list(title="Date",
type = 'date', tickformat = "%b %Y"),
legend = list(x=1.1,
title=list(text='<b> Click to Select Groups </b>'),
traceorder="grouped"),
barmode = 'overlay'
)
fig
#p <- plot_ly(data=dt, x=~date, y=~`00_90+`, type='scatter',mode='lines')
#p
fig
